'use strict';(function(b,e){function f(a){"function"===typeof b.modualimUserNameCallback&&b.modualimUserNameCallback(a)}function h(){let a=e.querySelector("#modualim-user-name-button");if(a){let c=e.querySelector("#modualim-user-name"),k=n("user_name");c&&k&&(c.value=k);a.addEventListener("click",function(d){if(c){if(d=c.value,p)if(d){let l=JSON.stringify({op:"savemyname",cid:q,name:d});b.tmtJSI&&b.tmtJSI.callAPI?b.tmtJSI.callAPI(l):b.webkit&&b.webkit.messageHandlers&&b.webkit.messageHandlers.tmtJSI&&b.webkit.messageHandlers.tmtJSI.postMessage(l);g?localStorage.setItem("TMT_user_name",encodeURIComponent(d)):e.cookie="TMT_user_name="+encodeURIComponent(d)+";path=/;";f({success:1,name:d})}else f({error:400,msg:"Please enter your name"})}else f({error:404,msg:"Not found modualim-user-name"})})}else 100>m?(m++,setTimeout(h,300)):f({error:404,msg:"Not found modualim-user-name-button"})}let p=navigator.userAgent.match(/TMT\//i),q=(new RegExp("[?&]"+encodeURIComponent("cid")+"=([^&]*)")).exec(e.currentScript.src)[1],m=0,g=!0;try{localStorage.setItem("TMT_test","yes"),localStorage.removeItem("TMT_test")}catch(a){g=!1}let n=function(a,c){a=g?decodeURIComponent(localStorage.getItem((c?"":"TMT_")+a)||""):(a=e.cookie.match("(^|;) ?"+(c?"":"TMT_")+a+"=([^;]*)(;|$)"))?decodeURIComponent(a[2]):"";return a};h()})(window,document);